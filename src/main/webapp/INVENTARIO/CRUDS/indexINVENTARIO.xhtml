<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'/>
        <link href="Css_Usuario.css" rel="stylesheet" type="text/css"/>
        <title>Conductor</title>
        <style>
          * {
    font-family: 'Open Sans', sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --background: #392f31; /* Marrón oscuro */
    --text-light: #f7d66a; /* Amarillo claro */
    --text-dark: #b56529; /* Marrón claro */
    --accent-green: #00755e; /* Verde azulado */
    --accent-red: #c74642; /* Rojo oscuro */
    --accent-blue: #497285; /* Azul verdoso */
}

body {
    background: var(--background);
    color: var(--text-light);
    transition: color 0.3s, background 0.3s;
}

a {
    text-decoration: none;
    color: var(--text-light);
    transition: color 0.3s;
}

a:hover {
    color: var(--accent-green);
}



            li {
                list-style: none;
            }

            /* Estilos para el header */
            header {
                position: relative;
                padding: 0 2rem;
            }

            /* Estilos para la barra de navegación */
            .navbar {
                max-width: 1400px;
                margin: 0 auto;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }

            /* Estilos para los elementos de la barra de navegación */
            .navbar .link {
                text-align: center;
                display: flex;
                gap: 2rem;
                font-family: 'Carter One', cursive;
                margin-right: 98px;
            }

            .navbar .toggle_btn {
                font-size: 2rem;
                cursor: pointer;
                display: none;
            }

            /* Estilos para los botones */
            .button {
                width: 130px;
                font-size: 1.2rem;
                text-decoration: none;
                text-align: center;
                border: none;
                background-color: transparent;
                align-content: left;
                margin-right: 20px;
                margin-top: 5px;
                color: #CDD8D8;
                padding: 0 0.5rem;
                cursor: pointer;
                font-family: 'Carter One', cursive;
                white-space: normal;
            }


            .button:hover {
                color: #57624a;
            }

            /* Estilos para el menú desplegable */
            .dropdown_menu {
                display: none;
                position: absolute;
                right: 2rem;
                top: 60px;
                height: 0;
                width: 300px;
                background: rgb(255, 255, 255, 0.1);
                backdrop-filter: blur(15px);
                border-radius: 25px;
                overflow: hidden;
                transition: height 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            }

            .dropdown_menu.show {
                display: block;
                height: auto;
            }

            .dropdown_menu li {
                padding: 0.7rem;
                display: flex;
                align-items: center;
                justify-content: center;
            }






            /* SIDEBAR */
            #sidebar {
                position: fixed;
                max-width: 260px;
                width: 100%;
                background: var(--light);
                top: 0;
                left: 0;
                height: 100%;
                overflow-y: auto;
                scrollbar-width: none;
                transition: all .3s ease;
                z-index: 200;
            }
            #sidebar.hide {
                max-width: 60px;
            }
            #sidebar.hide:hover {
                max-width: 260px;
            }
            #sidebar::-webkit-scrollbar {
                display: none;
            }
            #sidebar .brand {
                font-size: 24px;
                display: flex;
                align-items: center;
                height: 64px;
                font-weight: 700;
                color: var(--blue);
                position: sticky;
                top: 0;
                left: 0;
                z-index: 100;
                background: var(--light);
                transition: all .3s ease;
                padding: 0 6px;
            }
            #sidebar .icon {
                min-width: 48px;
                display: flex;
                justify-content: center;
                align-items: center;
                margin-right: 6px;
            }
            #sidebar .icon-right {
                margin-left: auto;
                transition: all .3s ease;
            }
            #sidebar .side-menu {
                margin: 36px 0;
                padding: 0 20px;
                transition: all .3s ease;
            }
            #sidebar.hide .side-menu {
                padding: 0 6px;
            }
            #sidebar.hide:hover .side-menu {
                padding: 0 20px;
            }
            #sidebar .side-menu a {
                display: flex;
                align-items: center;
                font-size: 14px;
                color: var(--dark);
                padding: 12px 16px 12px 0;
                transition: all .3s ease;
                border-radius: 10px;
                margin: 4px 0;
                white-space: nowrap;
            }
            #sidebar .side-menu > li > a:hover {
                background: var(--grey);
            }
            #sidebar .side-menu > li > a.active .icon-right {
                transform: rotateZ(90deg);
            }
            #sidebar .side-menu > li > a.active,
            #sidebar .side-menu > li > a.active:hover {
                background: var(--blue);
                color: var(--light);
            }
            #sidebar .divider {
                margin-top: 24px;
                font-size: 12px;
                text-transform: uppercase;
                font-weight: 700;
                color: var(--dark-grey);
                transition: all .3s ease;
                white-space: nowrap;
            }
            #sidebar.hide:hover .divider {
                text-align: left;
            }
            #sidebar.hide .divider {
                text-align: center;
            }
            #sidebar .side-dropdown {
                padding-left: 54px;
                max-height: 0;
                overflow-y: hidden;
                transition: all .15s ease;
            }
            #sidebar .side-dropdown.show {
                max-height: 1000px;
            }
            #sidebar .side-dropdown a:hover {
                color: var(--blue);
            }
            #sidebar .ads {
                width: 100%;
                padding: 20px;
            }
            #sidebar.hide .ads {
                display: none;
            }
            #sidebar.hide:hover .ads {
                display: block;
            }
            #sidebar .ads .wrapper {
                background: var(--grey);
                padding: 20px;
                border-radius: 10px;
            }
            #sidebar .btn-upgrade {
                font-size: 14px;
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 12px 0;
                color: var(--light);
                background: var(--blue);
                transition: all .3s ease;
                border-radius: 5px;
                font-weight: 600;
                margin-bottom: 12px;
            }
            #sidebar .btn-upgrade:hover {
                background: var(--dark-blue);
            }
            #sidebar .ads .wrapper p {
                font-size: 12px;
                color: var(--dark-grey);
                text-align: center;
            }
            #sidebar .ads .wrapper p span {
                font-weight: 700;
            }
            /* SIDEBAR */





            /* CONTENT */
            #content {
                position: relative;
                width: calc(100% - 260px);
                left: 260px;
                transition: all .3s ease;
            }
            #sidebar.hide + #content {
                width: calc(100% - 60px);
                left: 60px;
            }
            /* NAVBAR */
            nav {
                background: var(--light);
                height: 64px;
                padding: 0 20px;
                display: flex;
                align-items: center;
                grid-gap: 28px;
                position: sticky;
                top: 0;
                left: 0;
                z-index: 100;
            }
            nav .toggle-sidebar {
                font-size: 18px;
                cursor: pointer;
            }
            nav form {
                max-width: 400px;
                width: 100%;
                margin-right: auto;
            }
            nav .form-group {
                position: relative;
            }
            nav .form-group input {
                width: 100%;
                background: var(--grey);
                border-radius: 5px;
                border: none;
                outline: none;
                padding: 10px 36px 10px 16px;
                transition: all .3s ease;
            }
            nav .form-group input:focus {
                box-shadow: 0 0 0 1px var(--blue), 0 0 0 4px var(--light-blue);
            }
            nav .form-group .icon {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                right: 16px;
                color: var(--dark-grey);
            }
            nav .nav-link {
                position: relative;
            }
            nav .nav-link .icon {
                font-size: 18px;
                color: var(--dark);
            }
            nav .nav-link .badge {
                position: absolute;
                top: -12px;
                right: -12px;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                border: 2px solid var(--green);
                background: var(--red);
                display: flex;
                justify-content: center;
                align-items: center;
                color: var(--green);
                font-size: 10px;
                font-weight: 700;
            }
            nav .divider {
                width: 1px;
                background: var(--grey);
                height: 12px;
                display: block;
            }
            nav .profile {
                position: relative;
            }
            nav .profile img {
                width: 36px;
                height: 36px;
                border-radius: 50%;
                object-fit: cover;
                cursor: pointer;
            }
            nav .profile .profile-link {
                position: absolute;
                top: calc(100% + 10px);
                right: 0;
                background: var(--light);
                padding: 10px 0;
                box-shadow: 4px 4px 16px rgba(0, 0, 0, .1);
                border-radius: 10px;
                width: 160px;
                opacity: 0;
                pointer-events: none;
                transition: all .3s ease;
            }
            nav .profile .profile-link.show {
                opacity: 1;
                pointer-events: visible;
                top: 100%;
            }
            nav .profile .profile-link a {
                padding: 10px 16px;
                display: flex;
                grid-gap: 10px;
                font-size: 14px;
                color: var(--dark);
                align-items: center;
                transition: all .3s ease;
            }
            nav .profile .profile-link a:hover {
                background: var(--grey);
            }
            /* NAVBAR */



            /* MAIN */
            main {
                width: 100%;
                padding: 24px 20px 20px 20px;
            }
            main .title {
                font-size: 28px;
                font-weight: 600;
                margin-bottom: 10px;
            }
            main .breadcrumbs {
                display: flex;
                grid-gap: 6px;
            }
            main .breadcrumbs li,
            main .breadcrumbs li a {
                font-size: 14px;
            }
            main .breadcrumbs li a {
                color: var(--blue);
            }
            main .breadcrumbs li a.active,
            main .breadcrumbs li.divider {
                color: var(--dark-grey);
                pointer-events: none;
            }
            main .info-data {
                margin-top: 36px;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                grid-gap: 20px;
            }
            main .info-data .card {
                padding: 20px;
                border-radius: 10px;
                background: var(--green);
                box-shadow: 4px 4px 16px rgba(0, 0, 0, .05);
            }
            main .card .head {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
            }
            main .card .head h2 {
                font-size: 24px;
                font-weight: 600;
            }
            main .card .head p {
                font-size: 14px;
            }
            main .card .head .icon {
                font-size: 20px;
                color: var(--green);
            }
            main .card .head .icon.down {
                color: var(--red);
            }
            main .card .progress {
                display: block;
                margin-top: 24px;
                height: 10px;
                width: 100%;
                border-radius: 10px;
                background: var(--grey);
                overflow-y: hidden;
                position: relative;
                margin-bottom: 4px;
            }
            main .card .progress::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                background: var(--blue);
                width: var(--value);
            }
            main .card .label {
                font-size: 14px;
                font-weight: 700;
            }
            main .data {
                display: flex;
                grid-gap: 20px;
                margin-top: 20px;
                flex-wrap: wrap;
            }
            main .data .content-data {
                flex-grow: 1;
                flex-basis: 400px;
                padding: 20px;
                background: var(--green);
                border-radius: 10px;
                /*box-shadow: 4px 4px 16px (0, 0, 0, .1);*/
            }
            main .content-data .head {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 24px;
            }
            main .content-data .head h3 {
                font-size: 20px;
                font-weight: 600;
            }
            main .content-data .head .menu {
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            main .content-data .head .menu .icon {
                cursor: pointer;
            }
            main .content-data .head .menu-link {
                position: absolute;
                top: calc(100% + 10px);
                right: 0;
                width: 140px;
                background: var(--light);
                border-radius: 10px;
                box-shadow: 4px 4px 16px rgba(0, 0, 0, .1);
                padding: 10px 0;
                z-index: 100;
                opacity: 0;
                pointer-events: none;
                transition: all .3s ease;
            }
            main .content-data .head .menu-link.show {
                top: 100%;
                opacity: 1;
                pointer-events: visible;
            }
            main .content-data .head .menu-link a {
                display: block;
                padding: 6px 16px;
                font-size: 14px;
                color: var(--dark);
                transition: all .3s ease;
            }
            main .content-data .head .menu-link a:hover {
                background: var(--grey);
            }
            main .content-data .chart {
                width: 100%;
                max-width: 100%;
                overflow-x: auto;
                scrollbar-width: none;
            }
            main .content-data .chart::-webkit-scrollbar {
                display: none;
            }

            main .chat-box {
                width: 100%;
                max-height: 360px;
                overflow-y: auto;
                scrollbar-width: none;
            }
            main .chat-box::-webkit-scrollbar {
                display: none;
            }
            main .chat-box .day {
                text-align: center;
                margin-bottom: 10px;
            }
            main .chat-box .day span {
                display: inline-block;
                padding: 6px 12px;
                border-radius: 20px;
                background: var(--light-blue);
                color: var(--blue);
                font-size: 12px;
                font-weight: 600;
            }
            main .chat-box .msg img {
                width: 28px;
                height: 28px;
                border-radius: 50%;
                object-fit: cover;
            }
            main .chat-box .msg {
                display: flex;
                grid-gap: 6px;
                align-items: flex-start;
            }
            main .chat-box .profile .username {
                font-size: 14px;
                font-weight: 600;
                display: inline-block;
                margin-right: 6px;
            }
            main .chat-box .profile .time {
                font-size: 12px;
                color: var(--dark-grey);
            }
            main .chat-box .chat p {
                font-size: 14px;
                padding: 6px 10px;
                display: inline-block;
                max-width: 400px;
                line-height: 150%;
            }
            main .chat-box .msg:not(.me) .chat p {
                border-radius: 0 5px 5px 5px;
                background: var(--blue);
                color: var(--light);
            }
            main .chat-box .msg.me {
                justify-content: flex-end;
            }
            main .chat-box .msg.me .profile {
                text-align: right;
            }
            main .chat-box .msg.me p {
                background: var(--grey);
                border-radius: 5px 0 5px 5px;
            }
            main form {
                margin-top: 6px;
            }
            main .form-group {
                width: 100%;
                display: flex;
                grid-gap: 10px;
            }
            main .form-group input {
                flex-grow: 1;
                padding: 10px 16px;
                border-radius: 5px;
                outline: none;
                background: var(--grey);
                border: none;
                transition: all .3s ease;
                width: 100%;
            }
            main .form-group input:focus {
                box-shadow: 0 0 0 1px var(--blue), 0 0 0 4px var(--light-blue);
            }
            main .btn-send {
                padding: 0 16px;
                background: var(--blue);
                border-radius: 5px;
                color: var(--light);
                cursor: pointer;
                border: none;
                transition: all .3s ease;
            }
            main .btn-send:hover {
                background: var(--dark-blue);
            }
            /* MAIN */
            /* CONTENT */






            @media screen and (max-width: 768px) {
                #content {
                    position: relative;
                    width: calc(100% - 60px);
                    transition: all .3s ease;
                }
                nav .nav-link,
                nav .divider {
                    display: none;
                }
            }



            h3 {
                font-family: 'Playpen Sans', cursive;
                color: black;
                font-size: 25px;
            }

            .formulario-correo {
                max-width: 600px;
                margin: auto;
                padding: 30px;
                background-color: #fff;
                border: 1px solid #ddd;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                font-family: 'Merriweather Sans', sans-serif;
                font-size: 20px;

            }

            .panel-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
            }

            .output-label {
                font-weight: bold;
                margin-bottom: 5px;
            }

            .input-text,
            .input-textarea {
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 4px;
            }

            .input-textarea {
                resize: vertical;
            }

            .command-button {
                background-color: #4caf50;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }

            .command-button:hover {
                background-color: #45a049;
            }


        </style>
    </h:head>
    <h:body>

        <i class=''></i>
        <!-- SIDEBAR -->
        <section id="sidebar">
            <a href="#" class="brand">Ushuaia</a>
            <ul class="side-menu">
                <li><a href="#" class="active"><i class='bx bxs-dashboard icon' ></i> INICIO</a></li>
                <li class="divider" data-text="main">Main</li>

                <li>
                    <a href="#"><i class='bx bx-user icon' ></i> Usuarios <i class='bx bx-chevron-right icon-right' ></i></a>
                    <ul class="side-dropdown">
                        <h:form>
                            <li><h:commandButton value="Consultar Usuarios"  action="Usuarios"  styleClass="button" /></li>

                        </h:form>
                    </ul>
                </li>

                <li>
                    <a href="#"><i class='bx bx-question-mark icon' ></i> PQRS <i class='bx bx-chevron-right icon-right' ></i></a>
                    <ul class="side-dropdown">
                        <h:form>
                            <li><h:commandButton value="Pqrs"  action="Pqrs"  styleClass="button" /></li>
                            <li><h:commandButton value="Agente Pqrs"  action="Agente Pqrs"  styleClass="button" /></li>
                            <li><h:commandButton value="noce"  action="Noce"  styleClass="button" /></li>

                        </h:form>
                    </ul>
                </li>


                <li>
                    <a href="#"><i class='bx bx-menu icon' ></i> Inventario <i class='bx bx-chevron-right icon-right' ></i></a>
                    <ul class="side-dropdown">
                        <h:form>
                            <li><h:commandButton value="Productos"  action="Productos"  styleClass="button" /></li>  
                        </h:form>
                    </ul>
                </li>


                <li>
                    <a href="#"><i class='bx bx-menu icon' ></i> Enviar Correos <i class='bx bx-chevron-right icon-right' ></i></a>
                    <ul class="side-dropdown">
                        <h:form>
                            <li><h:commandButton value="Correo masivo"  action="Correo"  styleClass="button" /></li>  
                        </h:form>
                    </ul>
                </li>

            </ul>
        </section>
        <!-- SIDEBAR -->

        <!-- NAVBAR -->
        <section id="content">
            <!-- NAVBAR -->
            <nav>
                <i class='bx bx-menu toggle-sidebar' ></i>
                <form action="#">
                    <div class="form-group">
                        <input type="text" placeholder="Buscador..."/>
                        <i class='bx bx-search icon' ></i>
                    </div>
                </form>
                <a href="#" class="nav-link">
                    <i class='bx bxs-bell icon' ></i>
                    <span class="badge">5</span>
                </a>

                        <li>
                            <ul class="side-dropdown">
                                <h:form>
                                    <li><h:commandButton value="Perfil"  action="Perfil"  styleClass="button" /></li>
                                </h:form>
                            </ul>
                        </li>
                        <li><a href="#" onclick="confirmarSalida()"><i class="bx bxs-log-out-circle"></i> Salir</a></li>
                   
            </nav>
            <!-- NAVBAR -->

            <!-- MAIN -->

            <br/>

            <h1 class="title" > Producto </h1>

            <p:growl id="msj"/>
            <h:form id="NUevo">
                <p:fieldset legend="Nuevo" toggleable="true" styleClass="transparent-fieldset">
                    <p:commandButton styleClass="boton-Nuevo"  value="Nuevo Producto" oncomplete="PF('valor').show();"/>
                </p:fieldset>

                <br/>
            </h:form>
            <p:dialog widgetVar="valor" modal="true" showEffect="clip" header="Nuevo registro" resizable="false">
                <p:ajax event="close" listener="#{managedProductos.limpiar}" update=":c"/>
                <h:form id="c">
                    <p:panelGrid columns="2">
                        <p:outputLabel value="Escriba el Producto" />
                        <p:inputText value="#{managedProductos.productos.nombreProducto}" title="Producto" required="true" requiredMessage="Registro no realizado. Ingrese El Producto." />
                        <p:outputLabel value="Descripcion productos" />
                        <p:inputText value="#{managedProductos.productos.descripcionproducto}"  title="Descripcion" required="true" requiredMessage="Registro no realizado. Ingrese la Descripcion ." />

                        <p:outputLabel value="Precio" />
                        <p:inputText value="#{managedProductos.productos.precio}" title="Precio" required="true" requiredMessage="Registro no realizado. Ingrese el Precio." />

                        <p:outputLabel value="Cantidad" />
                        <p:inputText value="#{managedProductos.productos.cantidadInventario}" title="Cantidad" required="true" requiredMessage="Registro no realizado. Ingrese la Cantidad." />



                        <p:outputLabel value="Ingrese Estado del Producto" styleClass="columna-centrada"/>
                        <p:selectOneMenu value="#{managedProductos.estadoProductos.idEstadoproducto}">
                            <f:selectItems value="#{managedEstadoProductos.listaEstadoProductos}" var="pr" 
                                           itemValue="#{pr.idEstadoproducto}" itemLabel="#{pr.estadoProducto} "/>
                        </p:selectOneMenu> 

                        <p:outputLabel value="Ingrese Categoria del Producto" styleClass="columna-centrada"/>
                        <p:selectOneMenu value="#{managedProductos.categorias.categoriaID}">
                            <f:selectItems value="#{managedCategorias.listacategorias}" var="Ca" 
                                           itemValue="#{Ca.categoriaID}" itemLabel="#{Ca.nombreCategoria} "/>
                        </p:selectOneMenu> 

                        <p:commandButton styleClass="boton-Nuevo"  value="Guardar" actionListener="#{managedProductos.guardar()}"  oncomplete="PF('valor').hide();"  
                                         update=":Datos c :msj"/>                   


                        <p:commandButton styleClass="boton-actualizar"  value="Actualizar"   actionListener="#{managedProductos.actualizar()}" oncomplete="PF('valor').hide();"  
                                         update=":Datos c :msj"/>

                    </p:panelGrid>
                </h:form>
            </p:dialog>

            <p:fieldset legend="Generar Graficas" toggleable="true" styleClass="transparent-fieldset">
                <h:form>
                    <p:commandButton value="Graficar" actionListener="#{grafica.graficar()}" update="hpgGraficoS" />
                    <h:panelGrid id="hpgGraficoS">
                        <p:chart type="pie" model="#{grafica.torta}" style="width: 500px; height: 500px; margin:0 auto; float: left; align-items: center; " rendered="#{grafica.torta !=null}" />

                    </h:panelGrid>

                </h:form>


            </p:fieldset>


            <br/>
            <br/>
            <br/>
        </section>
    </h:body>
    <h:body>
        <p:growl id="msj"/>
        <h:form id="NUevo">



            <p:fieldset legend="Nuevo" toggleable="true">
                <p:panelGrid columns="1">
                    <p:commandButton styleClass="boton-Nuevo"  value="Nuevo Inventario" oncomplete="PF('valor').show();"/>                           
                </p:panelGrid>               
            </p:fieldset>  
        </h:form>
        <p:dialog widgetVar="valor" modal="true" showEffect="clip" header="Nueva Categoria" resizable="false">

            <p:ajax event="close" listener="#{controllerInventario.limpiar()}" update="pen"/>
            <h:form id="pen">
                <p:panelGrid columns="2">


                    <p:outputLabel value="Ubicacion del producto" />
                    <p:inputText value="#{controllerInventario.inventario.ubicacionProducto}" title="Categoria" 
                                 required="true" requiredMessage="Ubicacion del producto no añadida. Por favor ingrese el nombre de la ubicacion." />
                    
                    <p:outputLabel value="Precio" />
                    <p:inputText value="#{controllerInventario.inventario.precio}" title="Categoria" 
                                 required="true" requiredMessage="Precio no añadida. Por favor ingrese el precio." />
                    
                    <p:outputLabel value="Fecha de ingreso" />
                    <p:inputText value="#{controllerInventario.inventario.fechaIngreso}" title="Categoria" 
                                 required="true" requiredMessage="Fecha de ingreso no añadida. Por favor ingrese el nombre de la fecha." />

                    <p:outputLabel value="Fecha de Salida" />
                    <p:inputText value="#{controllerInventario.inventario.fechaSalida}" title="Categoria" 
                                 required="true" requiredMessage="Fecha de salida no añadida. Por favor ingrese el nombre de la fecha." />


                    <p:outputLabel value="Fecha de Caducidad" />
                    <p:inputText value="#{controllerInventario.inventario.fechaCaducidad}" title="Categoria" 
                                 required="true" requiredMessage="Fecha de caducidad no añadida. Por favor ingrese el nombre de la fecha." />

                    <p:outputLabel value="Fecha de de Ultima Actualizacion" />
                    <p:inputText value="#{controllerInventario.inventario.fechaUltimaActualizacion}" title="Categoria" 
                                 required="true" requiredMessage="Fecha de ultima actualizacion no añadida. Por favor ingrese el nombre de la fecha." />


                    <p:commandButton styleClass="boton-Nuevo"  value="Guardar" actionListener="#{controllerInventario.guardar()}"  oncomplete="PF('valor').hide();"  
                                     update=":Datos pen :msj"/>                   

                    
                    <p:commandButton styleClass="boton-actualizar"  value="Actualizar"   actionListener="#{controllerInventario.actualizar()}" oncomplete="PF('valor').hide();"  
                                     update=":Datos pen :msj"/>

                </p:panelGrid>

            </h:form>       
        </p:dialog>


        <h:form id="Datos">
            <p:fieldset legend ="Datos" toggleable="true" styleClass="transparent-fieldset">
                <p:dataTable value="#{controllerInventario.listainventario}" var="i" styleClass="miTabla" 
                             emptyMessage="No hay este dato en el ijnventario" widgetVar="TablaInventario" 
                             filteredValue="#{controllerInventario.buscadorinventario}">

                    <f:facet name="header">
                        <p:outputPanel>
                            <h:outputText value="Buscar"/>
                            <p:inputText id="globalFilter" onkeyup="PF('TablaInventario').filter()"
                                         style="width: 150px; margin: 10px; " placeholder="Buscador"
                                         styleClass="miEstiloDeBorde"/>
                        </p:outputPanel>
                    </f:facet>

                    <p:column headerText="Inventario ID">
                        <h:outputText value="#{i.IDInventario}" />
                    </p:column>

                    <p:column headerText="Ubicacion del producto">
                        <h:outputText value="#{i.ubicacionProducto}" />
                    </p:column>

                    <p:column headerText="Precio">
                        <h:outputText value="#{i.precio}" />
                    </p:column>

                    <p:column headerText="Fecha de ingreso">
                        <h:outputText value="#{i.fechaIngreso}" />
                    </p:column>

                    <p:column headerText="Fecha de salida">
                        <h:outputText value="#{i.fechaSalida}" />
                    </p:column>

                    <p:column headerText="Fecha de caducidad">
                        <h:outputText value="#{i.fechaCaducidad}" />
                    </p:column>

                    <p:column headerText="Fecha de ultima actualizacion">
                        <h:outputText value="#{i.fechaUltimaActualizacion}" />
                    </p:column>


                    <p:column headerText="Eliminar" styleClass="columna-centrada">
                        <p:commandButton value="ELIMINAR"  styleClass="boton-eliminar" actionListener="#{controllerInventario.eliminar(i)}" 
                                         update=":Datos :msj" onclick="return confirm('¿Estás seguro de que deseas eliminar este tema de inventario?')"/>
                    </p:column>

                    <p:column headerText="Actializar">
                        <p:commandButton value="Actualizar" actionListener="#{controllerInventario.Cargardatos(i)}" 
                                         update=":pen " oncomplete="PF('valor').show();"/>
                    </p:column>   
                </p:dataTable>
            </p:fieldset>
        </h:form> 
    </h:body>
            
            <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
        <script src="JS_Usuario.js" type="text/javascript"></script>
        <script>
                                                 // SIDEBAR DROPDOWN
                                                 const allDropdown = document.querySelectorAll('#sidebar .side-dropdown');
                                                 const sidebar = document.getElementById('sidebar');

                                                 allDropdown.forEach(item => {
                                                     const a = item.parentElement.querySelector('a:first-child');
                                                     a.addEventListener('click', function (e) {
                                                         e.preventDefault();

                                                         if (!this.classList.contains('active')) {
                                                             allDropdown.forEach(i => {
                                                                 const aLink = i.parentElement.querySelector('a:first-child');

                                                                 aLink.classList.remove('active');
                                                                 i.classList.remove('show');
                                                             })
                                                         }

                                                         this.classList.toggle('active');
                                                         item.classList.toggle('show');
                                                     })
                                                 })





// SIDEBAR COLLAPSE
                                                 const toggleSidebar = document.querySelector('nav .toggle-sidebar');
                                                 const allSideDivider = document.querySelectorAll('#sidebar .divider');

                                                 if (sidebar.classList.contains('hide')) {
                                                     allSideDivider.forEach(item => {
                                                         item.textContent = '-'
                                                     })
                                                     allDropdown.forEach(item => {
                                                         const a = item.parentElement.querySelector('a:first-child');
                                                         a.classList.remove('active');
                                                         item.classList.remove('show');
                                                     })
                                                 } else {
                                                     allSideDivider.forEach(item => {
                                                         item.textContent = item.dataset.text;
                                                     })
                                                 }

                                                 toggleSidebar.addEventListener('click', function () {
                                                     sidebar.classList.toggle('hide');

                                                     if (sidebar.classList.contains('hide')) {
                                                         allSideDivider.forEach(item => {
                                                             item.textContent = '-'
                                                         })

                                                         allDropdown.forEach(item => {
                                                             const a = item.parentElement.querySelector('a:first-child');
                                                             a.classList.remove('active');
                                                             item.classList.remove('show');
                                                         })
                                                     } else {
                                                         allSideDivider.forEach(item => {
                                                             item.textContent = item.dataset.text;
                                                         })
                                                     }
                                                 })




                                                 sidebar.addEventListener('mouseleave', function () {
                                                     if (this.classList.contains('hide')) {
                                                         allDropdown.forEach(item => {
                                                             const a = item.parentElement.querySelector('a:first-child');
                                                             a.classList.remove('active');
                                                             item.classList.remove('show');
                                                         })
                                                         allSideDivider.forEach(item => {
                                                             item.textContent = '-'
                                                         })
                                                     }
                                                 })



                                                 sidebar.addEventListener('mouseenter', function () {
                                                     if (this.classList.contains('hide')) {
                                                         allDropdown.forEach(item => {
                                                             const a = item.parentElement.querySelector('a:first-child');
                                                             a.classList.remove('active');
                                                             item.classList.remove('show');
                                                         })
                                                         allSideDivider.forEach(item => {
                                                             item.textContent = item.dataset.text;
                                                         })
                                                     }
                                                 })




// PROFILE DROPDOWN
                                                 const profile = document.querySelector('nav .profile');
                                                 const imgProfile = profile.querySelector('img');
                                                 const dropdownProfile = profile.querySelector('.profile-link');

                                                 imgProfile.addEventListener('click', function () {
                                                     dropdownProfile.classList.toggle('show');
                                                 })




// MENU
                                                 const allMenu = document.querySelectorAll('main .content-data .head .menu');

                                                 allMenu.forEach(item => {
                                                     const icon = item.querySelector('.icon');
                                                     const menuLink = item.querySelector('.menu-link');

                                                     icon.addEventListener('click', function () {
                                                         menuLink.classList.toggle('show');
                                                     })
                                                 })



                                                 window.addEventListener('click', function (e) {
                                                     if (e.target !== imgProfile) {
                                                         if (e.target !== dropdownProfile) {
                                                             if (dropdownProfile.classList.contains('show')) {
                                                                 dropdownProfile.classList.remove('show');
                                                             }
                                                         }
                                                     }

                                                     allMenu.forEach(item => {
                                                         const icon = item.querySelector('.icon');
                                                         const menuLink = item.querySelector('.menu-link');

                                                         if (e.target !== icon) {
                                                             if (e.target !== menuLink) {
                                                                 if (menuLink.classList.contains('show')) {
                                                                     menuLink.classList.remove('show')
                                                                 }
                                                             }
                                                         }
                                                     })
                                                 })





// PROGRESSBAR
                                                 const allProgress = document.querySelectorAll('main .card .progress');

                                                 allProgress.forEach(item => {
                                                     item.style.setProperty('--value', item.dataset.value)
                                                 });






// APEXCHART
                                                 var options = {
                                                     series: [{
                                                             name: 'series1',
                                                             data: [31, 40, 28, 51, 42, 109, 100]
                                                         }, {
                                                             name: 'series2',
                                                             data: [11, 32, 45, 32, 34, 52, 41]
                                                         }],
                                                     chart: {
                                                         height: 350,
                                                         type: 'area'
                                                     },
                                                     dataLabels: {
                                                         enabled: false
                                                     },
                                                     stroke: {
                                                         curve: 'smooth'
                                                     },
                                                     xaxis: {
                                                         type: 'datetime',
                                                         categories: ["2018-09-19T00:00:00.000Z", "2018-09-19T01:30:00.000Z", "2018-09-19T02:30:00.000Z", "2018-09-19T03:30:00.000Z", "2018-09-19T04:30:00.000Z", "2018-09-19T05:30:00.000Z", "2018-09-19T06:30:00.000Z"]
                                                     },
                                                     tooltip: {
                                                         x: {
                                                             format: 'dd/MM/yy HH:mm'
                                                         },
                                                     },
                                                 };

                                                 var chart = new ApexCharts(document.querySelector("#chart"), options);
                                                 chart.render();


        </script>
</html>